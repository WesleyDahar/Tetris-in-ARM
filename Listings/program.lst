


ARM Macro Assembler    Page 1 Tetris


    1 00000000                 TTL              Tetris
    2 00000000         ;------------------------------
    3 00000000         ; Description: It's Tetris.
    4 00000000         ; Name: Wesley F Dahar (wfd9953@rit.edu)
    5 00000000         ; Date: 10/01/17
    6 00000000         
    7 00000000         ;------------------------------
    8 00000000         ; Assembler Directives
    9 00000000         ;------------------------------
   10 00000000                 THUMB
   12 00000000         
   13 00000000         ;------------------------------
   14 00000000         ; Include Files
   15 00000000         ;------------------------------
   16 00000000                 GET              MKL46Z4.s   ; Included by start
                                                            .s
   18 00000000         
   19 00000000         ;------------------------------
   20 00000000         ; Equates
   21 00000000         ;------------------------------
   22 00000000         ; UART0
   23 00000000 00001000 
                       NVIC_ICER_UART0_MASK
                               EQU              UART0_IRQ_MASK
   24 00000000 00001000 
                       NVIC_ICPR_UART0_MASK
                               EQU              UART0_IRQ_MASK
   25 00000000 00000003 
                       UART0_IRQ_PRIORITY
                               EQU              3
   26 00000000 000000C0 
                       NVIC_IPR_UART0_MASK
                               EQU              (3 << UART0_PRI_POS)
   27 00000000 000000C0 
                       NVIC_IPR_UART0_PRI_3
                               EQU              (UART0_IRQ_PRIORITY << UART0_PR
I_POS)
   28 00000000 00001000 
                       NVIC_ISER_UART0_MASK
                               EQU              UART0_IRQ_MASK
   29 00000000 01000200 
                       PORT_PCR_SET_PTA1_UART0_RX
                               EQU              (PORT_PCR_ISF_MASK :OR: PORT_PC
R_MUX_SELECT_2_MASK)
   30 00000000 01000200 
                       PORT_PCR_SET_PTA2_UART0_TX
                               EQU              (PORT_PCR_ISF_MASK :OR: PORT_PC
R_MUX_SELECT_2_MASK)
   31 00000000 04000000 
                       SIM_SOPT2_UART0SRC_MCGPLLCLK
                               EQU              (1 << SIM_SOPT2_UART0SRC_SHIFT)
   32 00000000 04010000 
                       SIM_SOPT2_UART0_MCGPLLCLK_DIV2
                               EQU              (SIM_SOPT2_UART0SRC_MCGPLLCLK :
OR: SIM_SOPT2_PLLFLLSEL_MASK)
   33 00000000 00010007 
                       SIM_SOPT5_UART0_EXTERN_MASK_CLEAR
                               EQU              (SIM_SOPT5_UART0ODE_MASK :OR: S
IM_SOPT5_UART0RXSRC_MASK :OR: SIM_SOPT5_UART0TXSRC_MASK)



ARM Macro Assembler    Page 2 Tetris


   34 00000000 00000001 
                       UART0_BDH_9600
                               EQU              0x01
   35 00000000 00000038 
                       UART0_BDL_9600
                               EQU              0x38
   36 00000000 00000000 
                       UART0_C1_8N1
                               EQU              0x00
   37 00000000 0000000C 
                       UART0_C2_T_R
                               EQU              (UART0_C2_TE_MASK :OR: UART0_C2
_RE_MASK)
   38 00000000 0000002C 
                       UART0_C2_T_RI
                               EQU              (UART0_C2_RIE_MASK :OR: UART0_C
2_T_R)
   39 00000000 000000AC 
                       UART0_C2_TI_RI
                               EQU              (UART0_C2_TIE_MASK :OR: UART0_C
2_T_RI)
   40 00000000 00000000 
                       UART0_C3_NO_TXINV
                               EQU              0x00
   41 00000000 0000000F 
                       UART0_C4_OSR_16
                               EQU              0x0F
   42 00000000 0000000F 
                       UART0_C4_NO_MATCH_OSR_16
                               EQU              UART0_C4_OSR_16
   43 00000000 00000000 
                       UART0_C5_NO_DMA_SSR_SYNC
                               EQU              0x00
   44 00000000 0000001F 
                       UART0_S1_CLEAR_FLAGS
                               EQU              0x1F
   45 00000000 000000C0 
                       UART0_S2_NO_RXINV_BRK10_NO_LBKDETECT_CLEAR_FLAGS
                               EQU              0xC0
   46 00000000         
   47 00000000 00000000 
                       IN_PTR  EQU              0
   48 00000000 00000004 
                       OUT_PTR EQU              4
   49 00000000 00000008 
                       BUF_STRT
                               EQU              8
   50 00000000 0000000C 
                       BUF_PAST
                               EQU              12
   51 00000000 00000010 
                       BUF_SIZE
                               EQU              16
   52 00000000 00000011 
                       NUM_ENQD
                               EQU              17
   53 00000000 00000012 
                       Q_REC_SZ
                               EQU              18



ARM Macro Assembler    Page 3 Tetris


   54 00000000 00000004 
                       Q_BUF_SZ
                               EQU              4
   55 00000000         
   56 00000000 0000004F 
                       MAX_STRING
                               EQU              79
   57 00000000         
   58 00000000         ;------------------------------
   59 00000000         ; Program
   60 00000000         ;------------------------------
   61 00000000         ; Linker requires Reset_Handler
   62 00000000                 AREA             MyCode,CODE,READONLY
   63 00000000         ENTRY
   64 00000000                 EXPORT           Reset_Handler
   65 00000000                 IMPORT           Startup
   66 00000000         Reset_Handler
                               PROC             {},{}
   67 00000000         main
   68 00000000 B672            CPSID            I           ; Mask interrupts
   69 00000002 F7FF FFFE       BL               Startup     ; KL46 system start
                                                            up with 48-MHz syst
                                                            em clock
   70 00000006 F000 F800       BL               Init_UART0_IRQ ; Initialize UAR
                                                            T0 serial driver
   71 0000000A B662            CPSIE            I           ; Unmask interrupts
                                                            
   72 0000000C         
   73 0000000C         ;------------------------------
   74 0000000C         ; Main
   75 0000000C         ;------------------------------
   76 0000000C         Main
   77 0000000C F000 F800       BL               ResetDisplay
   78 00000010 F000 F800       BL               GetNext
   79 00000014 F000 F800       BL               GetBlock
   80 00000018 F000 F800       BL               GetNext
   81 0000001C         Main_Loop
   82 0000001C F000 F800       BL               GetChar
   83 00000020 2800            CMP              R0,#'\0'
   84 00000022 D024            BEQ              Main_NoInput
   85 00000024 281B            CMP              R0,#27
   86 00000026 D112            BNE              Main_CheckInput_Z
   87 00000028 F000 F800       BL               GetChar
   88 0000002C F000 F800       BL               GetChar
   89 00000030 2841            CMP              R0,#'A'
   90 00000032 D102            BNE              Main_CheckInput_Left
   91 00000034 F000 F800       BL               BlockMove
   92 00000038 E01A            B                Main_Input
   93 0000003A         Main_CheckInput_Left
   94 0000003A 2844            CMP              R0,#'D'
   95 0000003C D102            BNE              Main_CheckInput_Right
   96 0000003E F000 F800       BL               BlockMove
   97 00000042 E014            B                Main_NoInput
   98 00000044         Main_CheckInput_Right
   99 00000044 2843            CMP              R0,#'C'
  100 00000046 D112            BNE              Main_NoInput
  101 00000048 F000 F800       BL               BlockMove
  102 0000004C E00F            B                Main_NoInput
  103 0000004E         Main_CheckInput_Z



ARM Macro Assembler    Page 4 Tetris


  104 0000004E 287A            CMP              R0,#'z'
  105 00000050 D102            BNE              Main_CheckInput_X
  106 00000052 F000 F800       BL               BlockRotateCW
  107 00000056 E00A            B                Main_NoInput
  108 00000058         Main_CheckInput_X
  109 00000058 2878            CMP              R0,#'x'
  110 0000005A D102            BNE              Main_CheckInput_P
  111 0000005C F000 F800       BL               BlockRotateCCW
  112 00000060 E005            B                Main_NoInput
  113 00000062         Main_CheckInput_P
  114 00000062 2870            CMP              R0,#'p'
  115 00000064 D103            BNE              Main_NoInput
  116 00000066         Main_Pause
  117 00000066 F000 F800       BL               GetChar
  118 0000006A 2870            CMP              R0,#'p'
  119 0000006C D1FB            BNE              Main_Pause
  120 0000006E         Main_NoInput
  121 0000006E         
  122 0000006E         
  123 0000006E         
  124 0000006E E7D5            B                Main_Loop
  125 00000070         Main_Input
  126 00000070         
  127 00000070         
  128 00000070         
  129 00000070 E7D4            B                Main_Loop
  130 00000072         Main_Exit
  131 00000072 E7FE            B                .
  132 00000074                 ENDP
  133 00000074         
  134 00000074         ;------------------------------
  135 00000074         ; Subroutines
  136 00000074         ;------------------------------
  137 00000074         
  138 00000074         ;------------------------------
  139 00000074         ; Interrupt Addresses
  140 00000074         ;------------------------------
  141 00000074         ; Vector Table Mapped to Address 0 at Reset
  142 00000074         ; Linker requires __Vectors to be exported
  143 00000074                 AREA             RESET,DATA,READONLY
  144 00000000                 EXPORT           __Vectors
  145 00000000                 EXPORT           __Vectors_End
  146 00000000                 EXPORT           __Vectors_Size
  147 00000000                 IMPORT           __initial_sp
  148 00000000                 IMPORT           Dummy_Handler
  149 00000000                 IMPORT           HardFault_Handler
  150 00000000         __Vectors                            ;ARM core vectors
  151 00000000 00000000        DCD              __initial_sp ;00:end of stack
  152 00000004 00000000        DCD              Reset_Handler ;01:reset vector
  153 00000008 00000000        DCD              Dummy_Handler ;02:NMI
  154 0000000C 00000000        DCD              HardFault_Handler 
                                                            ;03:hard fault
  155 00000010 00000000        DCD              Dummy_Handler ;04:(reserved)
  156 00000014 00000000        DCD              Dummy_Handler ;05:(reserved)
  157 00000018 00000000        DCD              Dummy_Handler ;06:(reserved)
  158 0000001C 00000000        DCD              Dummy_Handler ;07:(reserved)
  159 00000020 00000000        DCD              Dummy_Handler ;08:(reserved)
  160 00000024 00000000        DCD              Dummy_Handler ;09:(reserved)
  161 00000028 00000000        DCD              Dummy_Handler ;10:(reserved)



ARM Macro Assembler    Page 5 Tetris


  162 0000002C 00000000        DCD              Dummy_Handler ;11:SVCall (super
                                                            visor call)
  163 00000030 00000000        DCD              Dummy_Handler ;12:(reserved)
  164 00000034 00000000        DCD              Dummy_Handler ;13:(reserved)
  165 00000038 00000000        DCD              Dummy_Handler ;14:PendableSrvRe
                                                            q (pendable request
                                                             for system service
                                                            )
  166 0000003C 00000000        DCD              Dummy_Handler ;15:SysTick (syst
                                                            em tick timer)
  167 00000040 00000000        DCD              Dummy_Handler ;16:DMA channel 0
                                                             xfer complete/erro
                                                            r
  168 00000044 00000000        DCD              Dummy_Handler ;17:DMA channel 1
                                                             xfer complete/erro
                                                            r
  169 00000048 00000000        DCD              Dummy_Handler ;18:DMA channel 2
                                                             xfer complete/erro
                                                            r
  170 0000004C 00000000        DCD              Dummy_Handler ;19:DMA channel 3
                                                             xfer complete/erro
                                                            r
  171 00000050 00000000        DCD              Dummy_Handler ;20:(reserved)
  172 00000054 00000000        DCD              Dummy_Handler ;21:command compl
                                                            ete; read collision
                                                            
  173 00000058 00000000        DCD              Dummy_Handler ;22:low-voltage d
                                                            etect; low-voltage 
                                                            warning
  174 0000005C 00000000        DCD              Dummy_Handler ;23:low leakage w
                                                            akeup
  175 00000060 00000000        DCD              Dummy_Handler ;24:I2C0
  176 00000064 00000000        DCD              Dummy_Handler ;25:I2C1
  177 00000068 00000000        DCD              Dummy_Handler ;26:SPI0 (all IRQ
                                                             sources)
  178 0000006C 00000000        DCD              Dummy_Handler ;27:SPI1 (all IRQ
                                                             sources)
  179 00000070                 DCD              UART0_ISR   ;28:UART0 (status; 
                                                            error)
  180 00000074 00000000        DCD              Dummy_Handler ;29:UART1 (status
                                                            ; error)
  181 00000078 00000000        DCD              Dummy_Handler ;30:UART2 (status
                                                            ; error)
  182 0000007C 00000000        DCD              Dummy_Handler ;31:ADC0
  183 00000080 00000000        DCD              Dummy_Handler ;32:CMP0
  184 00000084 00000000        DCD              Dummy_Handler ;33:TPM0
  185 00000088 00000000        DCD              Dummy_Handler ;34:TPM1
  186 0000008C 00000000        DCD              Dummy_Handler ;35:TPM2
  187 00000090 00000000        DCD              Dummy_Handler ;36:RTC (alarm)
  188 00000094 00000000        DCD              Dummy_Handler ;37:RTC (seconds)
                                                            
  189 00000098 00000000        DCD              Dummy_Handler ;38:PIT (all IRQ 
                                                            sources)
  190 0000009C 00000000        DCD              Dummy_Handler ;39:I2S0
  191 000000A0 00000000        DCD              Dummy_Handler ;40:USB0
  192 000000A4 00000000        DCD              Dummy_Handler ;41:DAC0
  193 000000A8 00000000        DCD              Dummy_Handler ;42:TSI0
  194 000000AC 00000000        DCD              Dummy_Handler ;43:MCG
  195 000000B0 00000000        DCD              Dummy_Handler ;44:LPTMR0



ARM Macro Assembler    Page 6 Tetris


  196 000000B4 00000000        DCD              Dummy_Handler ;45:Segment LCD
  197 000000B8 00000000        DCD              Dummy_Handler ;46:PORTA pin det
                                                            ect
  198 000000BC 00000000        DCD              Dummy_Handler ;47:PORTC and POR
                                                            TD pin detect
  199 000000C0         __Vectors_End
  200 000000C0 000000C0 
                       __Vectors_Size
                               EQU              __Vectors_End - __Vectors
  201 000000C0                 ALIGN
  202 000000C0         
  203 000000C0         ;------------------------------
  204 000000C0         ; Constants
  205 000000C0         ;------------------------------
  206 000000C0                 AREA             MyConst,DATA,READONLY
  207 00000000 00000067 
                       LINES   DCD              103         ; 100-103
  208 00000004 000000B2 
                       NEXT    DCD              178         ; Top Left Characte
                                                            r
  209 00000008 0000033B 
                       TOP     DCD              827         ; 822-827
  210 0000000C 000003FB 
                       SCORE   DCD              1019        ; 1014-1019
  211 00000010 0000057B 
                       LEVEL   DCD              1403        ; 1402-1403
  212 00000014 00000110 
                       STAT0   DCD              272
  213 00000018 000001D0 
                       STAT1   DCD              464
  214 0000001C 00000290 
                       STAT2   DCD              656
  215 00000020 00000350 
                       STAT3   DCD              848
  216 00000024 00000410 
                       STAT4   DCD              1040
  217 00000028 000004D0 
                       STAT5   DCD              1232
  218 0000002C 00000590 
                       STAT6   DCD              1424
  219 00000030 00000640 
                       DISPLAYSIZE
                               DCD              1600
  220 00000034 40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 



ARM Macro Assembler    Page 7 Tetris


              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              20 20 53 
              54 41 54 
              49 53 54 
              49 43 53 
              20 20 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 4C 
              49 4E 45 
              53 20 20 
              20 30 30 
              30 30 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 4E 45 
              58 54 20 
              20 20 20 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 
              40 40 40 



ARM Macro Assembler    Page 8 Tetris


              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 40 40 
              20 20 5B 
              5D 5B 5D 
              5B 5D 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 40 
              40 20 20 
              20 20 5B 
              5D 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 



ARM Macro Assembler    Page 9 Tetris


              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 40 40 
              20 20 5B 
              5D 5B 5D 
              5B 5D 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              20 20 20 
              20 5B 5D 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 



ARM Macro Assembler    Page 10 Tetris


              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              20 20 5B 
              5D 5B 5D 
              20 20 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 40 
              40 20 20 
              20 20 5B 
              5D 5B 5D 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 40 
              40 20 20 



ARM Macro Assembler    Page 11 Tetris


              54 4F 50 
              20 20 20 
              20 20 20 
              20 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              30 30 30 
              30 30 30 
              20 20 40 
              40 40 40 
              20 20 20 
              5B 5D 5B 
              5D 20 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 40 
              40 20 20 
              20 5B 5D 
              5B 5D 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 



ARM Macro Assembler    Page 12 Tetris


              20 20 20 
              20 20 20 
              20 40 40 
              20 20 40 
              40 20 20 
              53 43 4F 
              52 45 20 
              20 20 20 
              20 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              30 30 30 
              30 30 30 
              20 20 40 
              40 40 40 
              20 20 20 
              20 5B 5D 
              5B 5D 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 40 
              40 20 20 
              5B 5D 5B 
              5D 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 



ARM Macro Assembler    Page 13 Tetris


              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 5B 
              5D 5B 5D 
              5B 5D 20 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              5B 5D 20 



ARM Macro Assembler    Page 14 Tetris


              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 40 
              40 20 20 
              4C 45 56 
              45 4C 20 
              20 20 20 
              20 40 40 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 30 30 
              20 20 40 
              40 40 40 
              20 5B 5D 
              5B 5D 5B 
              5D 5B 5D 
              20 20 30 
              30 30 20 
              20 40 40 
              20 20 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 



ARM Macro Assembler    Page 15 Tetris


              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 40 
              40 20 20 
              40 40 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 40 40 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 20 
              20 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 40 40 
              40 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20 20 20 
              20       DISPLAYBASE
                               DCB              "@@@@@@@@@@@@@@@@@@@@  @@@@@@@@
@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@  STATISTICS    @@  @@    LINES   0000    @
@  @@    NEXT    @@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@  @@          
  @@@@                @@  @@@@@@@@@@@@@@@@@@@@@@@@  @@            @@@@  [][][] 
  000  @@  @@                    @@  @@            @@@@    []          @@  @@  
                  @@  @@            @@@@                @@  @@                 
   @@  @@            @@@@  [][][]   000  @@  @@                    @@  @@@@@@@@
@@@@@@@@@@      []        @@  @@                    @@                  @@     
           @@  @@                    @@  @@@@@@@@@@@@@@@@@@  [][]     000  @@  
@@                    @@  @@            @@@@    [][]        @@  @@             
       @@  @@  TOP       @@@@                @@  @@                    @@  @@  
  000000  @@@@   [][]    000  @@  @@                    @@  @@            @@@@ 
  [][]         @@  @@                    @@  @@  SCORE     @@@@                



ARM Macro Assembler    Page 16 Tetris


@@  @@                    @@  @@    000000  @@@@    [][]   000  @@  @@         
           @@  @@            @@@@  [][]          @@  @@                    @@  
@@@@@@@@@@@@@@@@@@                @@  @@                    @@                 
 @@  [][][]   000  @@  @@                    @@  @@@@@@@@@@@@@@@@@@  []        
    @@  @@                    @@  @@  LEVEL     @@@@                @@  @@     
               @@  @@        00  @@@@ [][][][]  000  @@  @@                    
@@  @@@@@@@@@@@@@@@@@@                @@  @@                    @@             
     @@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@                  "
  221 00000674                 ALIGN
  222 00000674         
  223 00000674         ;------------------------------
  224 00000674         ; Variables
  225 00000674         ;------------------------------
  226 00000674                 AREA             MyData,DATA,READWRITE
  227 00000000 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 17 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 18 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 19 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 20 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 21 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 22 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 23 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 24 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 25 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00       display SPACE            1600
  228 00000640         
  229 00000640 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 RxQRecord
                               SPACE            Q_REC_SZ
  230 00000652 00 00           ALIGN
  231 00000654 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00    RxQBuffer
                               SPACE            80
  232 000006A4                 ALIGN
  233 000006A4 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 26 Tetris


              00 00 00 
              00 00 00 TxQRecord
                               SPACE            Q_REC_SZ
  234 000006B6 00 00           ALIGN
  235 000006B8 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00    TxQBuffer
                               SPACE            80
  236 00000708                 ALIGN
  237 00000708 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 QRecord SPACE            Q_REC_SZ
  238 0000071A 00 00           ALIGN
  239 0000071C 00 00 00 
              00       QBuffer SPACE            Q_BUF_SZ
  240 00000720                 ALIGN
  241 00000720 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 



ARM Macro Assembler    Page 27 Tetris


              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00       stringBuffer
                               SPACE            MAX_STRING
  242 0000076F 00              ALIGN
  243 00000770         
  244 00000770                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M0+ --apcs=inter
work --depend=.\objects\program.d -o.\objects\program.o -I.\RTE\_Target_1 -IS:\
MDK524a\ARM\PACK\Keil\Kinetis_KLxx_DFP\1.13.0\Device\Include -IS:\MDK524a\ARM\C
MSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 52
4" --predefine="MKL46Z256xxx4 SETA 1" --list=.\listings\program.lst Program.s
